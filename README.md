# Telegram Бот для Загрузки Данных в SQLite
# Парсер для вывода средней цена

Этот Telegram бот разработан для загрузки данных из файлов в формате таблицы Excel в базу данных SQLite. Он предоставляет следующие функции:

- Команда `/start` для приветствия пользователя и предоставления инструкций по использованию бота.
- Возможность загрузки файлов с данными, содержащих поля `title`, `url` и `xpath`, для последующего сохранения в базу данных.

## Бот доступен по следующей ссылке:
```
https://t.me/TZTechBot
```

## Технологии:

+ python-telegram-bot
+ selenium
+ webdriver-manager
+ pandas

## Установка и настройка

1. Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/AlexanderMorozovIL/TZTechBot.git
```


2. Создаём виртуальное окружение

### Если у вас linux/macOS:
```
python3 -m venv venv
```
### Если у вас Windows:
```
python -m venv venv
```

3. Активируем виртуальное окружение

### Если у вас linux/macOS
```
. venv/bin/activate
```
### Если у вас Windows:
```
. venv/Scripts/activate
```

4. Установите необходимые библиотеки, выполнив команду:
```
pip install -r requirements.txt
```

5. Создайте бота на [BotFather](https://core.telegram.org/bots#botfather) и получите токен.

6. Замените значение переменной `TOKEN` в коде на ваш полученный токен:
```
TOKEN = 'ВАШ_ТОКЕН'
```

7. Запустите бот, выполнив файл bot.py:
```
python bot.py
```

8. Запустите парсер, выполнив файл scraper.py:
```
python scraper.py
```

### Использование
После запуска бота, вы можете использовать следующие команды:
```
/start:
```
Запускает бота и предоставляет инструкции.
Чтобы загрузить данные, отправьте файл в формате таблицы Excel с полями title, url и xpath.

#### База данных
Данные загружаются в базу данных SQLite. База данных будет создана автоматически, если она не существует. Вы можете настроить имя базы данных в переменной conn:

#### Парсер
Выводит среднюю цену, вычисленную на основе числовых значений цен,
полученных из веб-страницы.

### Автор:
Морозов Александр
